# Daur MedIA - Веб-приложение для генерации видео с ИИ

## Обзор проекта

Создано полнофункциональное веб-приложение для генерации видео по текстовым запросам с использованием технологии HunyuanVideo от Tencent. Приложение включает современный веб-интерфейс, API backend и интеграцию с моделью генерации видео.

## Архитектура системы

### Backend (Flask API)
- **Основной файл**: `daur_media_api/src/main.py`
- **Модели данных**: `src/models/video_task.py`
- **API маршруты**: `src/routes/video.py`
- **База данных**: SQLite для хранения задач
- **Поддержка CORS** для взаимодействия с frontend

### Frontend (HTML/CSS/JavaScript)
- **Главный интерфейс**: `src/static/video_interface.html`
- **JavaScript логика**: `src/static/video_app.js`
- **Современный дизайн** с использованием Tailwind CSS
- **Поддержка двух языков**: русский и английский
- **Адаптивный интерфейс** для различных устройств

### HunyuanVideo Integration
- **API обертка**: `hunyuan_api.py`
- **Упрощенная версия** для демонстрации (CPU-совместимая)
- **Асинхронная обработка** задач в отдельных потоках
- **Система очередей** для управления нагрузкой

## Основные функции

### Генерация видео
- Ввод текстового описания видео
- Настройка параметров (размер, количество шагов)
- Асинхронная обработка запросов
- Отслеживание статуса выполнения

### Управление задачами
- Просмотр списка всех задач
- Отслеживание прогресса генерации
- Скачивание готовых видео
- История выполненных задач

### Пользовательский интерфейс
- Современный градиентный дизайн
- Анимированные элементы
- Уведомления о статусе операций
- Модальные окна для дополнительной информации

## API Endpoints

### Генерация видео
```
POST /api/video/generate
Content-Type: application/json

{
  "prompt": "Описание видео",
  "video_width": 1280,
  "video_height": 720,
  "infer_steps": 50
}
```

### Получение статуса задачи
```
GET /api/video/status/{task_id}
```

### Список всех задач
```
GET /api/video/tasks?page=1&per_page=10
```

### Скачивание видео
```
GET /api/video/download/{task_id}
```

### Статус системы
```
GET /api/video/api_status
```

## Структура файлов

```
Daur-MedIA/
├── hunyuan_api.py              # API для HunyuanVideo
├── project_analysis.md         # Анализ архитектуры
├── generated_videos/           # Директория для результатов
└── daur_media_api/            # Flask приложение
    ├── venv/                  # Виртуальное окружение
    ├── src/
    │   ├── main.py           # Главный файл приложения
    │   ├── models/
    │   │   ├── user.py       # Модель пользователя
    │   │   └── video_task.py # Модель задач видео
    │   ├── routes/
    │   │   ├── user.py       # Маршруты пользователей
    │   │   └── video.py      # Маршруты видео API
    │   ├── static/
    │   │   ├── video_interface.html # Главный интерфейс
    │   │   ├── video_app.js        # JavaScript логика
    │   │   └── index.html          # Оригинальный тестовый интерфейс
    │   └── database/
    │       └── app.db        # База данных SQLite
    └── requirements.txt      # Зависимости Python
```

## Технологический стек

### Backend
- **Python 3.11** - основной язык программирования
- **Flask** - веб-фреймворк
- **SQLAlchemy** - ORM для работы с базой данных
- **Flask-CORS** - поддержка CORS
- **SQLite** - база данных

### Frontend
- **HTML5** - разметка
- **CSS3** с **Tailwind CSS** - стилизация
- **JavaScript (ES6+)** - логика интерфейса
- **Lucide Icons** - иконки

### AI/ML
- **HunyuanVideo** - модель генерации видео
- **PyTorch** - фреймворк машинного обучения
- **Transformers** - библиотека для работы с моделями

## Запуск приложения

### Установка зависимостей
```bash
cd daur_media_api
source venv/bin/activate
pip install -r requirements.txt
```

### Запуск сервера
```bash
python src/main.py
```

Приложение будет доступно по адресу: `http://localhost:5001`

## Особенности реализации

### Адаптация для CPU
Поскольку в sandbox окружении отсутствует GPU, создана упрощенная версия HunyuanVideo API, которая демонстрирует полную функциональность системы без требований к специализированному оборудованию.

### Асинхронная обработка
Задачи генерации видео выполняются в отдельных потоках, что позволяет пользователю продолжать работу с интерфейсом во время обработки.

### Многоязычность
Интерфейс поддерживает русский и английский языки с возможностью переключения в реальном времени.

### Современный дизайн
Использован современный подход к дизайну с градиентами, стеклянными эффектами и плавными анимациями.

## Возможности расширения

1. **Интеграция с реальной моделью HunyuanVideo** при наличии GPU
2. **Добавление аутентификации пользователей**
3. **Система платежей** для коммерческого использования
4. **Расширенные параметры генерации**
5. **Поддержка различных форматов видео**
6. **Интеграция с облачными хранилищами**

## Статус проекта

Проект представляет собой полнофункциональное веб-приложение, готовое для демонстрации и дальнейшего развития. Все основные компоненты реализованы и протестированы в рамках sandbox окружения.
